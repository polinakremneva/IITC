<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.8/axios.min.js"></script>
</head>
<body>
  <button id="postButton">Post</button>
  <script>
    document.getElementById('postButton').addEventListener('click', function(event) {
      event.preventDefault();
      post500();
    });

    const url = "http://localhost:8001/users";
    function post500() {
      for (let i = 1; i <= 500; i++) {
        const data = {
          firstName: `firstName${i}`,
          lastName: `lastName${i}`,
          books: {
            id: i,
            name: `name${i}`,
            author: `author${i}`,
            numPages: i + 100,
          },
        };
        axios.post(url, data)
          .then(response => {
            console.log(`Posted user ${i}:`, response.data);
          })
          .catch(error => {
            console.error(`Error posting user ${i}:`, error);
          });
      }
    }
  </script>
</body>
</html>
